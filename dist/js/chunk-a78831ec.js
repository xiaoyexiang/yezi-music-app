(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a78831ec"],{"3b27":function(t,a,s){"use strict";var i=s("d5de"),e=s.n(i);e.a},"8b55":function(t,a,s){"use strict";s.d(a,"a",function(){return i});s("a481");var i=function(t){if(t){var a=String(t);return a.length>5?a.replace(/\d{4}$/,"万"):a}return""}},aabb:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{appear:"",name:"slide"}},[s("div",{staticClass:"page-container"},[s("div",{staticClass:"back",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.goBack()}}},[s("i",{staticClass:"icon iconfont icon-xiangzuojiantou"})]),s("h2",{staticClass:"title"},[t._v("推荐")]),s("div",{ref:"pylistHeaderWrap",attrs:{id:"pylist-header-wrap"}},[s("section",{staticClass:"pylist-header"},[s("div",{staticClass:"bg-image",style:t.bgStyle}),s("div",{staticClass:"plhead_wrap"},[s("div",{staticClass:"plhead_fl"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.bgImageUrl,expression:"bgImageUrl"}],staticClass:"u-img"}),s("span",{staticClass:"lsthd_icon"},[t._v("歌单")]),s("span",{staticClass:"lsthd_num"},[s("i",{staticClass:"icon iconfont icon-erjieps"}),t._v(" "+t._s(t.handleCount(t.playlist&&t.playlist.playCount))+"\n                        ")])]),s("div",{staticClass:"plhead_fr"},[s("h2",{staticClass:"lsthd_title"},[t._v(t._s(t.playlist.name))]),s("div",{staticClass:"lsthd_auth"},[s("div",{staticClass:"u-avatar lsthd_ava"},[s("img",{staticClass:"u-img",attrs:{src:t.playlist&&t.playlist.creator.avatarUrl}})]),s("span",{staticClass:"nickname"},[t._v(t._s(t.playlist&&t.playlist.creator.nickname))])])])])]),s("section",{staticClass:"pylst_intro"},[t.playlist.tags&&t.playlist.tags.length?s("div",{staticClass:"lstit_tags"},[t._v("\n                    标签：\n                    "),t._l(t.playlist.tags,function(a,i){return s("em",{key:i,staticClass:"border-1px lstit_tag"},[t._v(t._s(a))])})],2):t._e(),s("div",{staticClass:"u-intro"},[s("span",{domProps:{innerHTML:t._s("简介："+t.playlist.description)}})])])]),s("div",{ref:"list",staticClass:"list-container"},[s("cube-scroll",{ref:"scroll",attrs:{data:t.playlist.tracks}},[s("h3",{staticClass:"u-smtitle"},[t._v("歌曲列表")]),s("ul",{staticClass:"songlist"},[t._l(t.playlist.tracks,function(a,i){return[s("li",{staticClass:"item border-bottom-1px",attrs:{"data-song-id":a.id},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.goPlay(a.id)}}},[s("div",{staticClass:"content"},[s("h3",{domProps:{innerHTML:t._s(a.name)}}),s("p",{staticClass:"desc"},[t._v(t._s(t.getDesc(a)))])])])]})],2)])],1)])])},e=[],l=s("4ec3"),n=(s("2f62"),s("8b55")),r={computed:{bgStyle:function(){return"background-image:url(".concat(this.bgImageUrl,")")}},data:function(){return{playlistId:-1,playlist:{tracks:[],creator:{}},bgImageUrl:""}},methods:{goBack:function(){this.$router.back()},getPlaylistDetail:function(){var t=this;Object(l["a"])(this.playlistId).then(function(a){a&&200===+a.code&&(t.playlist=a.playlist,t.bgImageUrl=t.playlist.coverImgUrl,t.$nextTick(function(){t.headerHeight=t.$refs.pylistHeaderWrap.offsetHeight,console.log(t.headerHeight),t.$refs.list.style.top="".concat(t.headerHeight,"px"),t.$refs.scroll.refresh()}))}).then(function(){console.log(t.playlist)})},goPlay:function(t){var a=this;Object(l["b"])(t).then(function(t){console.log(t);var s=t.data[0].url;a.$store.commit("updateCurrentSongUrl",s)})},handleCount:function(t){return n["a"](t)},getDesc:function(t){return"".concat(t.ar[0].name,"·").concat(t.al.name)}},created:function(){this.playlistId||this.goBack(),this.playlistId=this.$route.params.id,console.log(this.playlistId),this.getPlaylistDetail()},mounted:function(){var t=this;this.$nextTick(function(){t.headerHeight=t.$refs.pylistHeaderWrap.offsetHeight,console.log(t.headerHeight),t.$refs.list.style.top="".concat(t.headerHeight,"px")})}},c=r,o=(s("3b27"),s("2877")),p=Object(o["a"])(c,i,e,!1,null,"87c039b0",null);a["default"]=p.exports},d5de:function(t,a,s){}}]);
//# sourceMappingURL=chunk-a78831ec.js.map